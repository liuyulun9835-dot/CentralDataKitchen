# OrderFlow V6 — 任务卡片库（完整版 · 不省略）

> 结构：**卡片化任务**（可直接拷贝到 Jira/飞书项目）。每张卡含：ID｜模块｜标题｜目标｜输入｜输出｜关键步骤｜DoD（验收）｜负责人｜优先级｜依赖｜工时估算｜风险&缓解｜落盘路径｜QA/工具。
>
> **状态枚举**：`Pending / In‑Progress / Review / Blocked / Done`  
> **优先级**：`P0(立即)/P1(高)/P2(中)/P3(低)`

---

## 索引
- **000–049** 基线与工程环境  
- **100–199** 数据层（ATAS/行情/桥接/质控）  
- **200–299** 指标层（MSI/MFI/KLI/派生）  
- **300–399** 状态建模（HMM/TVTP/HSMM）  
- **400–499** Validator v2（统计显著性闭环）  
- **500–599** 规则库 A/B/C/D（20 条白名单）  
- **600–649** 决策引擎（StructuredDecisionTree）  
- **650–699** 风险管理  
- **700–749** 订单执行  
- **750–799** 回测与模拟盘  
- **800–829** 监控与可视化  
- **830–859** 部署与运维  
- **860–899** 文档与审计  
- **900–949** 里程碑验收

---

## 000–049 基线与工程环境

### 卡片 000
- **模块**：工程基线
- **标题**：仓库结构统一 & 环境基线
- **目标**：一条命令拉起项目；目录结构与命名与 V5/V6 说明书一致。
- **输入**：现有仓库、V6 说明书、V5 执行/校验手册
- **输出**：`pyproject.toml`、`Dockerfile`、目录树、`Makefile`/`invoke`
- **关键步骤**：
  1) 建立目录：`atas_integration/indicators|data_bridge`、`preprocessing`、`validation/{configs,src,out}`、`strategy_core/{decision_tree,state_inference}`、`execution`、`scripts`、`models`、`results`、`logs`。
  2) Poetry 环境与锁定依赖；Python 版本固定。
  3) Pre-commit（ruff/black/isort/mypy）与 CI Job（lint+pytest）。
  4) `.env.example` + 机密加载（dotenv）。
- **DoD**：`poetry install` 通过；`pytest -q` 通过；`make quickstart` 成功。
- **负责人**：DevOps｜**优先级**：P0｜**依赖**：无｜**工时**：M
- **风险&缓解**：跨平台差异→Docker 基线；Poetry 镜像源。
- **落盘路径**：根目录；`.github/workflows/ci.yml`
- **QA/工具**：ruff/mypy/pytest/coverage

### 卡片 001
- **模块**：工程基线
- **标题**：实验追踪与版本管理
- **目标**：结果可复现、模型可回滚。
- **输入**：Git、`results/`、`models/`
- **输出**：`git tag` 规范、`models/*` 命名规范、`results/README.md`
- **关键步骤**：tag 语义化；模型与结果文件命名规则；随机种子记录脚本。
- **DoD**：任一实验均可按 README 指示重跑并复现关键数值。
- **负责人**：DevOps｜**优先级**：P1｜**依赖**：000｜**工时**：S

---

## 100–199 数据层（ATAS/行情/桥接/质控）

### 卡片 101
- **模块**：数据
- **标题**：ATAS 指标导出 DLL 编译与加载
- **目标**：回放+实时导出 1m 粒度订单流 JSON。
- **输入**：C# 指标源码、ATAS 环境
- **输出**：`SimplifiedDataExporter.dll`、导出配置截图
- **关键步骤**：编译 DLL → ATAS 加载 → OnCalculate 写 `market_data_*.json` & `latest.json`。
- **DoD**：抽样 3 天 JSON 字段完整、时间连续、与图形方向一致。
- **负责人**：数据工程｜**优先级**：P0｜**依赖**：000｜**工时**：M

### 卡片 102
- **模块**：数据
- **标题**：Replay 批量导出批处理
- **目标**：覆盖牛/熊/震荡三个阶段的长期样本。
- **输入**：ATAS 回放列表
- **输出**：`data/atas/{SYMBOL}/{YYYYMM}/market_data_YYYYMMDD.json`
- **关键步骤**：回放脚本化；错误重试；文件校验与日志。
- **DoD**：缺失率<0.1%；所有日期均有产出。
- **负责人**：数据工程｜**优先级**：P1｜**依赖**：101｜**工时**：M

### 卡片 103
- **模块**：数据
- **标题**：ATAS JSON Schema 冻结
- **目标**：字段与类型稳定，供下游对齐。
- **输入**：导出样例
- **输出**：`preprocessing/schemas/atas_schema.json`
- **关键步骤**：字段列举与类型定义；可选/必选标注；Schema 校验脚本。
- **DoD**：任一 JSON 通过 Schema 校验；变更需走变更单。
- **负责人**：数据工程｜**优先级**：P0｜**依赖**：101｜**工时**：S

### 卡片 104
- **模块**：数据
- **标题**：交易所 1m K 线采集与落盘
- **目标**：最小可用行情集（Binance/OKX）
- **输入**：交易所 API
- **输出**：`data/exchange/{SYMBOL}/kline_1m.parquet`
- **关键步骤**：拉取、去重、缺失补齐、时区统一。
- **DoD**：时间对齐成功；空洞率<0.1%。
- **负责人**：数据工程｜**优先级**：P0｜**依赖**：000｜**工时**：M

### 卡片 105
- **模块**：数据
- **标题**：成本字典（手续费/点差/滑点）
- **目标**：三档成本配置（base/+50%/×2）。
- **输入**：交易费用表
- **输出**：`validation/configs/costs.yaml`
- **关键步骤**：抽象品种/账户级参数；校验与生效测试。
- **DoD**：回测/验证可一键切换成本档。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：104｜**工时**：S

### 卡片 106
- **模块**：数据
- **标题**：交易会话与节假日日历
- **目标**：生成 `session_id`，避免跨会话泄漏。
- **输入**：交易所交易时段、节假日
- **输出**：`data/meta/sessions.csv`
- **关键步骤**：规则编码；与 ATAS 会话对齐；单元测试。
- **DoD**：任意时间戳映射唯一会话；边界测试通过。
- **负责人**：数据工程｜**优先级**：P2｜**依赖**：104｜**工时**：S

### 卡片 107
- **模块**：数据
- **标题**：数据桥（JSON→Features Parquet）
- **目标**：合并 ATAS+行情，禁止未来函数。
- **输入**：101–106 产出
- **输出**：`data/processed/features.parquet`
- **关键步骤**：键对齐；滚动计算；时序校验；写 Parquet。
- **DoD**：`validate_required_fields.py` 0 错误；尺寸与期望一致。
- **负责人**：数据工程｜**优先级**：P0｜**依赖**：101,104,105,106｜**工时**：M

### 卡片 108
- **模块**：数据
- **标题**：数据完整性与异常检测
- **目标**：自动质控日报。
- **输入**：features.parquet
- **输出**：`results/data_qc_report.md`
- **关键步骤**：缺失、异常峰值、重复、时间跳变检测；邮件/IM 提醒。
- **DoD**：日报生成且无阻塞项。
- **负责人**：数据工程｜**优先级**：P1｜**依赖**：107｜**工时**：S

---

## 200–299 指标层（MSI/MFI/KLI/派生）

### 卡片 201
- **模块**：指标
- **标题**：指标字典与命名统一
- **目标**：统一字段（MSI/MFI/KLI/位置/时段/状态）。
- **输入**：V5/V6 文档、示例数据
- **输出**：`preprocessing/dicts/indicator_dict.yaml`
- **关键步骤**：字段列表、描述、计算口径、单位；对齐下游使用点。
- **DoD**：任一模块仅通过字典即可解析含义。
- **负责人**：量化研究｜**优先级**：P0｜**依赖**：107｜**工时**：S

### 卡片 202
- **模块**：指标
- **标题**：MSI 计算（结构/价值迁移）
- **目标**：VA 接近度、POC 迁移速度/一致性。
- **输入**：ATAS 字段
- **输出**：`value_migration{,_speed,_consistency}`, `near_val/vah/poc`
- **关键步骤**：窗口化迁移；一致性=方向连续度；边界防抖。
- **DoD**：样图对齐；无 NaN；单元测试覆盖边界。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：107｜**工时**：M

### 卡片 203
- **模块**：指标
- **标题**：MFI 计算（CVD/失衡/派生）
- **目标**：CVD、EMA、MACD、RSI、z-score、imbalance。
- **输入**：bar_delta/成交
- **输出**：`cvd, cvd_ema_{fast,slow}, cvd_macd, cvd_rsi, cvd_z, imbalance`
- **关键步骤**：去噪；稳定性测试；极值裁剪（winsorize）。
- **DoD**：极端日稳定；单元测试通过。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：107｜**工时**：M

### 卡片 204
- **模块**：指标
- **标题**：KLI 计算（吸收/LVN/HVN/关键位）
- **目标**：吸收强度与方向、结构位邻近。
- **输入**：ATAS 体积分布
- **输出**：`absorption_detected/strength/side, nearest_{lvn,hvn,support,resistance}, in_lvn`
- **关键步骤**：聚类/阈值检测；假信号过滤；回测 spot-check。
- **DoD**：样例通过；阈值敏感性合理。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：107｜**工时**：M

### 卡片 205
- **模块**：指标
- **标题**：相变前兆/派生特征
- **目标**：`H, ret_var, ret_acf1, cvd_skew/kurt, migration_accel`。
- **输入**：features.parquet
- **输出**：对应字段 + 评分子模块
- **关键步骤**：窗口长度试验；相关性与可解释性检验。
- **DoD**：与状态切换存在先行/同步关系的统计证据。
- **负责人**：量化研究｜**优先级**：P2｜**依赖**：107｜**工时**：M

### 卡片 206
- **模块**：指标
- **标题**：指标质控可视化
- **目标**：Sanity Check Notebook。
- **输入**：指标表
- **输出**：`notebooks/indicator_sanity_checks.ipynb`
- **关键步骤**：样图：突破/回抽/吸收/区间；方向一致性。
- **DoD**：人工检视通过；结论记录。
- **负责人**：量化研究｜**优先级**：P2｜**依赖**：202–205｜**工时**：S

---

## 300–399 状态建模（HMM/TVTP/HSMM）

### 卡片 301
- **模块**：状态
- **标题**：训练集构建（Purged K-Fold）
- **目标**：避免泄漏的训练/验证切分。
- **输入**：特征表、会话日历
- **输出**：折叠索引、embargo 配置
- **关键步骤**：k=5，embargo=5 bars；时间窗滚动。
- **DoD**：每折时间无重叠；元信息可复现。
- **负责人**：量化研究｜**优先级**：P0｜**依赖**：107,106｜**工时**：S

### 卡片 302
- **模块**：状态
- **标题**：GaussianHMM 训练与选型
- **目标**：2–4 状态候选，AIC/BIC+经济意义评估。
- **输入**：X_t
- **输出**：`models/market_regime_hmm.pkl`、`hmm_meta.json`
- **关键步骤**：初始化敏感性；随机种子；多起点拟合。
- **DoD**：状态可解释；趋势态黏性>阈值。
- **负责人**：量化研究｜**优先级**：P0｜**依赖**：301｜**工时**：M

### 卡片 303
- **模块**：状态
- **标题**：TVTP-HMM/分组转移矩阵
- **目标**：转移概率随 `Z_t` 变化（或高低波分组近似）。
- **输入**：Z_t
- **输出**：TVTP 模型/双矩阵模型
- **关键步骤**：逻辑回归参数稳定性；对比基础 HMM。
- **DoD**：样本外改进显著或等效且可解释。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：302｜**工时**：M

### 卡片 304
- **模块**：状态
- **标题**：HSMM 黏性约束
- **目标**：最小持续时间，减少“横跳”。
- **输入**：X_t
- **输出**：HSMM 模型 & 参数
- **关键步骤**：持续时间分布拟合；阈值选择。
- **DoD**：转移抖动显著降低，滞后可接受。
- **负责人**：量化研究｜**优先级**：P2｜**依赖**：302｜**工时**：M

### 卡片 305
- **模块**：状态
- **标题**：状态推断服务化
- **目标**：`predict_proba(snapshot)->(state_tag,confidence)`。
- **输入**：features row
- **输出**：`strategy_core/state_inference.py`
- **关键步骤**：序列缓存；缺失容错；版本标记。
- **DoD**：ms 级响应；接口稳定；单测覆盖。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：302｜**工时**：M

### 卡片 306
- **模块**：状态
- **标题**：跨年份稳定性与漂移检测
- **目标**：不同年份状态分布一致性。
- **输入**：历史多段
- **输出**：稳定性报告
- **关键步骤**：KS/PSI；切片对比；漂移告警阈值。
- **DoD**：稳定性≥阈值；改动留痕。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：305｜**工时**：S

---

## 400–499 Validator v2（统计显著性闭环）

### 卡片 401
- **模块**：验证
- **标题**：Validator 配置与目录固化
- **目标**：标准化 `validation/{configs,src,out}`。
- **输入**：模板
- **输出**：`configs/validator_v2.yaml`
- **关键步骤**：窗长、horizons、过滤条件、FDR α、稳定性窗。
- **DoD**：一键运行产出完整结果。
- **负责人**：量化研究｜**优先级**：P0｜**依赖**：201,107｜**工时**：S

### 卡片 402
- **模块**：验证
- **标题**：标签体系与元信号
- **目标**：`RE/HV/HF` 与 `U1/U2/U3` 元信号。
- **输入**：特征/价格
- **输出**：打标脚本
- **关键步骤**：阈值/窗口；泄漏检查；持久化。
- **DoD**：单元测试覆盖；可解释。
- **负责人**：量化研究｜**优先级**：P0｜**依赖**：401｜**工时**：S

### 卡片 403
- **模块**：验证
- **标题**：单变量显著性检验
- **目标**：效应方向/强度/显著性。
- **输入**：特征+标签
- **输出**：表格与图形
- **关键步骤**：分箱/分位；t/非参检验；多重校正（FDR）。
- **DoD**：显著因子清单 & 方向一致。
- **负责人**：量化研究｜**优先级**：P0｜**依赖**：402｜**工时**：M

### 卡片 404
- **模块**：验证
- **标题**：多变量检验（Poisson/NegBin/OLS/Quantile）
- **目标**：提频与提强，含交互项。
- **输入**：显著因子
- **输出**：回归系数表、显著性矩阵
- **关键步骤**：VIF/共线性；交叉验证；稳健回归。
- **DoD**：稳定性≥0.6；解释变量方向合理。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：403｜**工时**：M

### 卡片 405
- **模块**：验证
- **标题**：成本敏感性与鲁棒性
- **目标**：三档成本均净效应>0 的组合保留。
- **输入**：成本字典
- **输出**：对比表与过滤结果
- **关键步骤**：base/+50%/×2；敏感度排名；剔除边缘组合。
- **DoD**：鲁棒组合白名单。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：404,105｜**工时**：S

### 卡片 406
- **模块**：验证
- **标题**：Validator 产出物固化
- **目标**：统一文件名与模板。
- **输入**：运行结果
- **输出**：`OF_V6_stats.xlsx`、`combo_matrix.parquet`、`white_black_list.json`、`report.md`
- **关键步骤**：表头/字段对齐；版本签名。
- **DoD**：执行层可直接消费 JSON；文档齐备。
- **负责人**：量化研究｜**优先级**：P0｜**依赖**：405｜**工时**：S

---

## 500–599 规则库（A/B/C/D · 20 条白名单）

### 卡片 501
- **模块**：规则
- **标题**：A 组（平衡/响应）6 条规则编码
- **目标**：A1–A6 触发/过滤/退出落地。
- **输入**：指标/状态
- **输出**：`configs/trade_rules.yaml`（A1–A6）
- **关键步骤**：精确定义 `near_*` 与吸收条件；TP/SL=结构位。
- **DoD**：lint 通过；dry-run 样例命中正确。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：406｜**工时**：M

### 卡片 502
- **模块**：规则
- **标题**：B 组（趋势/主动）8 条规则编码
- **目标**：B7–B14
- **输入**：指标/状态
- **输出**：`trade_rules.yaml`（B7–B14）
- **关键步骤**：突破/回抽/失败突破；Open‑Drive；RE 单边。
- **DoD**：lint 通过；样例命中准确；回测贡献为正。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：501｜**工时**：L

### 卡片 503
- **模块**：规则
- **标题**：C 组（形态）4 条规则编码
- **目标**：C15–C18（P 形、b 形、双分布、Outside Day）
- **输入**：指标/状态
- **输出**：`trade_rules.yaml`（C15–C18）
- **关键步骤**：形态识别阈值；状态依赖的过滤条件。
- **DoD**：lint 通过；样例可复现。
- **负责人**：策略开发｜**优先级**：P1｜**依赖**：502｜**工时**：M

### 卡片 504
- **模块**：规则
- **标题**：D 组（VWAP 转场）2 条规则编码
- **目标**：D19–D20（夺回/失守）
- **输入**：VWAP 偏离
- **输出**：`trade_rules.yaml`（D19–D20）
- **关键步骤**：偏离阈值、回补确认、退出条件统一。
- **DoD**：lint 通过；样例 OK。
- **负责人**：策略开发｜**优先级**：P1｜**依赖**：501–503｜**工时**：S

### 卡片 505
- **模块**：规则
- **标题**：规则互斥/优先级/冲突解决
- **目标**：同刻多信号择优；可追溯。
- **输入**：规则集
- **输出**：`configs/rules_meta.yaml`
- **关键步骤**：优先级=状态置信度×评分；互斥组编码。
- **DoD**：冲突时仅一条生效；日志记录原因。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：501–504｜**工时**：S

### 卡片 506
- **模块**：规则
- **标题**：验证/执行双向一致性测试
- **目标**：`validation` 与 `execution` 筛选逻辑一致。
- **输入**：白名单 JSON、YAML
- **输出**：一致性测试脚本
- **关键步骤**：同一快照在两侧结果一致。
- **DoD**：全样本 100% 一致或差异出具明细。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：505｜**工时**：S

---

## 600–649 决策引擎（StructuredDecisionTree）

### 卡片 601
- **模块**：决策
- **标题**：表达式解析器扩展
- **目标**：支持 `crosses/in/pctl/函数`；组合条件。
- **输入**：规则 YAML
- **输出**：`strategy_core/decision_tree/parser.py`
- **关键步骤**：AST/安全评估；单测覆盖。
- **DoD**：规则库 100% 可解析。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：501–504｜**工时**：M

### 卡片 602
- **模块**：决策
- **标题**：信号评分融合
- **目标**：五维评分 + 状态置信度缩放。
- **输入**：评分子模块
- **输出**：`strategy_core/scoring.py`
- **关键步骤**：权重/校准；阈值学习或网格。
- **DoD**：评分与回测绩效正相关。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：205,305｜**工时**：M

### 卡片 603
- **模块**：决策
- **标题**：冲突解决与出入场生成
- **目标**：输出标准化 `Decision{action,size,reason,target,stop}`。
- **输入**：规则命中、评分
- **输出**：`strategy_core/decision_tree/engine.py`
- **关键步骤**：优先级表；合并/过滤；边界条件。
- **DoD**：决策日志完整；仿真通过。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：601,602｜**工时**：M

### 卡片 604
- **模块**：决策
- **标题**：决策日志与可追溯性
- **目标**：`logs/decision_log.jsonl`，含状态/评分/规则名。
- **输入**：决策对象
- **输出**：JSONL 日志
- **关键步骤**：结构化字段；采样回放工具。
- **DoD**：任一成交可追溯源规则与证据。
- **负责人**：策略开发｜**优先级**：P1｜**依赖**：603｜**工时**：S

---

## 650–699 风险管理

### 卡片 651
- **模块**：风控
- **标题**：仓位缩放与最小 RR 检查
- **目标**：`size=f(state_confidence,H,vol)`；`RR≥1.5`。
- **输入**：评分/状态/波动
- **输出**：`execution/risk_manager.py`
- **关键步骤**：函数曲线；边界与饱和；单测。
- **DoD**：策略在高不确定性时自动降杠杆。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：602,305｜**工时**：S

### 卡片 652
- **模块**：风控
- **标题**：冷却/熔断/日损限额
- **目标**：防连击；止损阈触发停机。
- **输入**：交易日志
- **输出**：风控配置
- **关键步骤**：冷却时间/连续亏损 N 次/日损 -R 触发。
- **DoD**：回测&模拟盘可复现触发与恢复。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：651｜**工时**：S

### 卡片 653
- **模块**：风控
- **标题**：异常路径与自愈
- **目标**：数据断流/API 超时/滑点异常时降风控或停机。
- **输入**：监控信号
- **输出**：异常处理模块
- **关键步骤**：重试/降级/熔断；告警对接。
- **DoD**：异常演练通过。
- **负责人**：策略开发｜**优先级**：P1｜**依赖**：652｜**工时**：S

---

## 700–749 订单执行

### 卡片 701
- **模块**：执行
- **标题**：交易所路由与账户抽象
- **目标**：OKX/CCXT 统一接口；`paper/live` 切换。
- **输入**：API Key、路由参数
- **输出**：`execution/router.py`
- **关键步骤**：时钟同步；重试策略；幂等下单。
- **DoD**：沙盒端到端成功；重试可靠。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：603｜**工时**：M

### 卡片 702
- **模块**：执行
- **标题**：限价挂单+滑点保护+TTL
- **目标**：保护价、存活时间、撤单。
- **输入**：行情/滑点参数
- **输出**：下单策略实现
- **关键步骤**：保护价计算；TTL 定时器；撤单/重挂。
- **DoD**：部分成交处理正确；回放可复现。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：701｜**工时**：M

### 卡片 703
- **模块**：执行
- **标题**：止损跟踪与分批止盈
- **目标**：结构位/ATR 跟踪；多目标分批。
- **输入**：结构位、ATR、规则 TP
- **输出**：执行算法
- **关键步骤**：触发器与队列；状态机。
- **DoD**：回测/模拟盘收益提升且回撤受控。
- **负责人**：策略开发｜**优先级**：P1｜**依赖**：702｜**工时**：M

### 卡片 704
- **模块**：执行
- **标题**：网络稳健性与恢复
- **目标**：断线自动重连、请求幂等。
- **输入**：网络事件
- **输出**：恢复模块
- **关键步骤**：重试/退避；会话恢复；订单状态对账。
- **DoD**：演练通过；无重复下单。
- **负责人**：策略开发｜**优先级**：P1｜**依赖**：701｜**工时**：S

---

## 750–799 回测与模拟盘

### 卡片 751
- **模块**：回测
- **标题**：事件驱动回测器 & 规则归因
- **目标**：收益/回撤/每规则贡献/状态分解。
- **输入**：features、规则、成本
- **输出**：`results/backtest_*` 图表与表格
- **关键步骤**：撮合/滑点/成本；按规则归因。
- **DoD**：指标稳定；可复现实验。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：506,651｜**工时**：L

### 卡片 752
- **模块**：回测
- **标题**：成本场景与敏感性
- **目标**：base/+50%/×2 全覆盖。
- **输入**：costs.yaml
- **输出**：敏感性报告
- **关键步骤**：多场景跑批；对比汇总。
- **DoD**：结论明确；存档。
- **负责人**：量化研究｜**优先级**：P1｜**依赖**：751｜**工时**：S

### 卡片 753
- **模块**：模拟盘
- **标题**：Paper 交易端到端
- **目标**：实盘同构；日志与告警就绪。
- **输入**：路由+风控
- **输出**：完整日志、日报
- **关键步骤**：仿真撮合；异常演练。
- **DoD**：连续运行一个会话无中断。
- **负责人**：策略开发｜**优先级**：P0｜**依赖**：701–704,651–653｜**工时**：M

---

## 800–829 监控与可视化

### 卡片 801
- **模块**：监控
- **标题**：观测面板（状态/评分/命中/P&L by rule）
- **目标**：可观测性与回放。
- **输入**：决策/执行日志
- **输出**：Dashboard
- **关键步骤**：指标聚合；热力图/时间轴；回放控件。
- **DoD**：核心图表齐全；性能流畅。
- **负责人**：DevOps｜**优先级**：P1｜**依赖**：604,753｜**工时**：M

### 卡片 802
- **模块**：监控
- **标题**：告警与通知
- **目标**：停机/断连/异常滑点/连续亏损即时通知。
- **输入**：监控事件
- **输出**：IM Webhook
- **关键步骤**：阈值与抑制；告警路由；静默期。
- **DoD**：演练触发；噪声可控。
- **负责人**：DevOps｜**优先级**：P1｜**依赖**：653,704｜**工时**：S

### 卡片 803
- **模块**：监控
- **标题**：日终归档与日报
- **目标**：`results/daily_report_YYYYMMDD.md` 自动产出。
- **输入**：交易与验证结果
- **输出**：日报与归档
- **关键步骤**：模板渲染；图表嵌入；上传归档。
- **DoD**：每日自动生成并推送。
- **负责人**：DevOps｜**优先级**：P2｜**依赖**：753｜**工时**：S

---

## 830–859 部署与运维

### 卡片 831
- **模块**：运维
- **标题**：Docker 化与一键启动
- **目标**：`docker compose up -d` 拉起 paper/live。
- **输入**：Dockerfile、Compose
- **输出**：镜像、Compose 脚本
- **关键步骤**：时区 Europe/Paris；健康检查；日志挂载。
- **DoD**：本地/服务器一致运行。
- **负责人**：DevOps｜**优先级**：P0｜**依赖**：000,701｜**工时**：M

### 卡片 832
- **模块**：运维
- **标题**：多环境配置（dev/paper/prod）
- **目标**：配置分层与覆盖。
- **输入**：`configs/*`
- **输出**：环境差异配置
- **关键步骤**：层叠加载；敏感参数外置。
- **DoD**：切换环境仅改 ENV。
- **负责人**：DevOps｜**优先级**：P1｜**依赖**：831｜**工时**：S

### 卡片 833
- **模块**：运维
- **标题**：备份/恢复与崩溃自启
- **目标**：模型/结果/日志安全；意外重启。
- **输入**：`models/results/logs`
- **输出**：备份脚本、systemd/Compose 重启策略
- **关键步骤**：周期归档；冷备；校验恢复流程。
- **DoD**：灾备演练通过。
- **负责人**：DevOps｜**优先级**：P1｜**依赖**：831｜**工时**：S

---

## 860–899 文档与审计

### 卡片 861
- **模块**：文档
- **标题**：README（目录树/一键运行）
- **目标**：新人 30 分钟内跑通。
- **输入**：工程现状
- **输出**：`README.md`
- **关键步骤**：动机/结构/运行/常见问题。
- **DoD**：新人测试通过。
- **负责人**：全员共编｜**优先级**：P0｜**依赖**：000–003｜**工时**：S

### 卡片 862
- **模块**：文档
- **标题**：ARCHITECTURE/VALIDATION/CHANGELOG
- **目标**：体系化文档三件套。
- **输入**：各模块实现
- **输出**：`ARCHITECTURE.md`、`VALIDATION_REPORT.md`、`CHANGELOG.md`
- **关键步骤**：数据流图、接口表；统计方法与结果；版本演进。
- **DoD**：审计通过；外部评审可读。
- **负责人**：量化研究/策略/DevOps｜**优先级**：P1｜**依赖**：核心模块完成｜**工时**：M

---

## 900–949 里程碑验收

### 卡片 901–906（M1–M6）
- **M1 数据&指标**：`features.parquet` + 指标质控报告（负责人：数据/量化）
- **M2 状态模型**：`hmm.pkl` + `state_inference.py`（负责人：量化/策略）
- **M3 验证闭环**：`OF_V6_stats.xlsx`、`combo_matrix.parquet`、`white_black_list.json`（负责人：量化）
- **M4 规则&引擎**：`trade_rules.yaml` 通过 lint；dry‑run 正确（负责人：策略）
- **M5 回测&模拟盘**：多市况达标；监控/告警就绪（负责人：策略/DevOps）
- **M6 实盘小额**：连续稳定运行；复盘与迭代计划（负责人：全员）

---

> 备注：本卡片库与 V6 说明书/V5 执行&验证手册字段一致；可在 `configs/` 下挂接你的现有 YAML/JSON。若需要，我可以生成 **Jira CSV 导入模板**（含自定义字段/负责人/依赖关系/标签）。

